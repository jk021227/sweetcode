{"ast":null,"code":"var _jsxFileName = \"/Users/youngjukim/Desktop/sweetcode/sweetcode/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // send the profile data to the backend\n      const response = await fetch('/login', {\n        // Change '/' to '/login'\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n\n      // Handle response status\n      if (response.status === 200) {\n        const responseData = await response.json();\n        // print response data\n        console.log(responseData);\n        localStorage.setItem('token', responseData.token); // Save token to local storage\n        console.log(responseData.message); // Optional: Log success message\n        navigate('/'); // Redirect to the dashboard or home page\n      } else if (response.status === 401) {\n        // Change to 401 for unauthorized\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Wrong username/password.');\n      } else {\n        // Handle other errors\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Failed to login.');\n      }\n    } catch (error) {\n      // Network or other unexpected error\n      setErrorMessage('Something went wrong. Please try again later.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Login\"), errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 26\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"input\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button2\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/createprofile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 35\n    }\n  }, \"Create Profile\"))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","Login","username","setUsername","password","setPassword","errorMessage","setErrorMessage","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","status","responseData","json","console","log","localStorage","setItem","token","message","errorData","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","value","onChange","target","required","to"],"sources":["/Users/youngjukim/Desktop/sweetcode/sweetcode/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const navigate = useNavigate();\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      // send the profile data to the backend\n      const response = await fetch('/login', {  // Change '/' to '/login'\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n  \n      // Handle response status\n      if (response.status === 200) {\n        const responseData = await response.json();\n        // print response data\n        console.log(responseData);\n        localStorage.setItem('token', responseData.token); // Save token to local storage\n        console.log(responseData.message);  // Optional: Log success message\n        navigate('/'); // Redirect to the dashboard or home page\n      } else if (response.status === 401) { // Change to 401 for unauthorized\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Wrong username/password.');\n      } else {\n        // Handle other errors\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Failed to login.');\n      }\n    } catch (error) {\n      // Network or other unexpected error\n      setErrorMessage('Something went wrong. Please try again later.');\n    }\n};  \n\n  return (\n      <div className=\"container\">\n        <div className=\"title\">Login</div>\n\n        {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\n\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            className=\"input\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n          />\n          <input\n            type=\"password\"\n            className=\"input\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n          <button className=\"button2\" type=\"submit\">\n            Login\n          </button>\n        </form>\n\n      <div className=\"mt-3\">\n        <p>Don't have an account? <Link to=\"/createprofile\">Create Profile</Link></p>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}