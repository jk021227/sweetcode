{"ast":null,"code":"var _jsxFileName = \"/Users/youngjukim/Desktop/sweetcode/sweetcode/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport CreateProfile from './CreateProfile'; // Import CreateProfile component\n\nconst Login = ({\n  isOpen\n}) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isCreateProfileOpen, setIsCreateProfileOpen] = useState(false); // Track profile modal open state\n\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      if (response.status === 200) {\n        const responseData = await response.json();\n        localStorage.setItem('token', responseData.token);\n        navigate('/');\n      } else if (response.status === 401) {\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Wrong username/password.');\n      } else {\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Failed to login.');\n      }\n    } catch (error) {\n      setErrorMessage('Something went wrong. Please try again later.');\n    }\n  };\n  if (!isOpen) return null; // If the modal is not open, do not render it\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Login\"), errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input border p-2 w-full my-2\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"input border p-2 w-full my-2\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button2 bg-blue-500 text-white px-4 py-2 rounded w-full mt-2\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Don't have an account?\", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"text-blue-500 underline\",\n    onClick: () => setIsCreateProfileOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Create Profile\"))))), /*#__PURE__*/React.createElement(CreateProfile, {\n    isOpen: isCreateProfileOpen,\n    onClose: () => setIsCreateProfileOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","CreateProfile","Login","isOpen","username","setUsername","password","setPassword","errorMessage","setErrorMessage","isCreateProfileOpen","setIsCreateProfileOpen","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","status","responseData","json","localStorage","setItem","token","errorData","error","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","value","onChange","target","required","onClick","onClose"],"sources":["/Users/youngjukim/Desktop/sweetcode/sweetcode/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport CreateProfile from './CreateProfile';  // Import CreateProfile component\n\nconst Login = ({ isOpen }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isCreateProfileOpen, setIsCreateProfileOpen] = useState(false); // Track profile modal open state\n\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (response.status === 200) {\n        const responseData = await response.json();\n        localStorage.setItem('token', responseData.token);\n        navigate('/');\n      } else if (response.status === 401) {\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Wrong username/password.');\n      } else {\n        const errorData = await response.json();\n        setErrorMessage(errorData.error || 'Failed to login.');\n      }\n    } catch (error) {\n      setErrorMessage('Something went wrong. Please try again later.');\n    }\n  };\n\n  if (!isOpen) return null; // If the modal is not open, do not render it\n\n  return (\n    <>\n      <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n        <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\">\n          <h2 className=\"text-2xl font-semibold\">Login</h2>\n\n          {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\n\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              className=\"input border p-2 w-full my-2\"\n              name=\"username\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n            <input\n              type=\"password\"\n              className=\"input border p-2 w-full my-2\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            <button className=\"button2 bg-blue-500 text-white px-4 py-2 rounded w-full mt-2\" type=\"submit\">\n              Login\n            </button>\n          </form>\n\n          <div className=\"mt-3\">\n            <p>Don't have an account? \n              {/* Open CreateProfile Modal on click */}\n              <button className=\"text-blue-500 underline\" onClick={() => setIsCreateProfileOpen(true)}>\n                Create Profile\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* CreateProfile Modal */}\n      <CreateProfile isOpen={isCreateProfileOpen} onClose={() => setIsCreateProfileOpen(false)} />\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}